<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>TaskFlow - Add To-Do</title>
<style>
  /* Reset */
  * {
    margin: 0; padding: 0; box-sizing: border-box;
  }
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #f9fafb;
    color: #111827;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }
  nav.navbar {
    background: white;
    padding: 16px 32px;
    box-shadow: 0 1px 4px rgb(0 0 0 / 0.1);
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  nav.navbar .logo {
    font-weight: 700;
    font-size: 24px;
    color: #2563eb;
    user-select: none;
  }
  nav.navbar button {
    background: #2563eb;
    color: white;
    border: none;
    padding: 10px 16px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: 600;
    font-size: 14px;
  }
  main {
    flex-grow: 1;
    max-width: 720px;
    margin: 40px auto;
    background: white;
    border-radius: 12px;
    padding: 32px;
    box-shadow: 0 10px 25px rgb(0 0 0 / 0.1);
  }
  h1 {
    font-size: 28px;
    margin-bottom: 12px;
  }
  p.description {
    color: #6b7280;
    margin-bottom: 28px;
  }
  form {
    display: flex;
    flex-direction: column;
    gap: 20px;
  }
  label {
    font-weight: 600;
    font-size: 14px;
    margin-bottom: 6px;
    color: #374151;
  }
  input[type="text"],
  textarea,
  select,
  input[type="date"] {
    padding: 12px 16px;
    border: 1.5px solid #d1d5db;
    border-radius: 8px;
    font-size: 16px;
    transition: border-color 0.3s ease;
    font-family: inherit;
  }
  input[type="text"]:focus,
  textarea:focus,
  select:focus,
  input[type="date"]:focus {
    outline: none;
    border-color: #2563eb;
    box-shadow: 0 0 6px rgba(37, 99, 235, 0.5);
    background: white;
  }
  textarea {
    resize: vertical;
    min-height: 80px;
  }
  .priority-select {
    width: 150px;
  }
  .submit-btn {
    align-self: flex-start;
    background: #2563eb;
    color: white;
    font-weight: 700;
    padding: 14px 28px;
    font-size: 16px;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    box-shadow: 0 6px 15px rgb(37 99 235 / 0.4);
    transition: background 0.3s ease;
  }
  .submit-btn:hover {
    background: #1d4ed8;
  }
  @media (max-width: 600px) {
    main {
      margin: 20px;
      padding: 24px;
    }
  }

  
                #messages {
        position: fixed;
        top: 20px;
        right: 20px;
        width: 300px;
        z-index: 9999;
    }     /* Container at center-bottom */
#toast-container {
    position: fixed;
    bottom: 40px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 9999;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
}

/* Toast message box */
.toast {
    min-width: 220px;
    max-width: 320px;
    padding: 12px 20px;
    border-radius: 6px;
    color: #fff;
    font-size: 14px;
    text-align: center;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    opacity: 0;
    transform: translateY(30px);
    animation: toast-in 0.4s forwards;
}

/* Color variants */
.toast.success { background: #28a745; }
.toast.error   { background: #dc3545; }
.toast.info    { background: #17a2b8; }
.toast.warning { background: #ffc107; color: #000; }

/* Slide in animation */
@keyframes toast-in {
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Fade out animation */
@keyframes toast-out {
    to {
        opacity: 0;
        transform: translateY(30px);
    }
}

</style>
</head>
<body>
      
  {% if messages %}
<div id="toast-container">
    {% for message in messages %}
        <div class="toast {{ message.tags }}">
            {{ message }}
        </div>
    {% endfor %}
</div>
{% endif %}
<script>
    document.addEventListener("DOMContentLoaded", function() {
        const toasts = document.querySelectorAll(".toast");
        toasts.forEach(toast => {
            setTimeout(() => {
                toast.style.animation = "toast-out 0.5s forwards";
                setTimeout(() => toast.remove(), 500);
            }, 3000); // stays 4s
        });
    });
</script>

<nav class="navbar">
  <div class="logo">Todo App</div>
  <button onclick="window.location.href='all_tasks.html'">
       <a href="{% url 'home'  %}" style=" text-decoration: none;color: white;">
       Back to Todos
      </a>
    </button>
</nav>

<main>
  <h1>Update Todo</h1>
  <p class="description">Fill in the details below to add a new todo to your list.</p>


 <form action="{% url 'update' todo.id %}" method="POST" novalidate>
  {% csrf_token %}
  <label for="taskName">Title</label>
  <input type="text" id="taskName" name="title" required placeholder="Enter task title" value="{{todo.title}}"  readonly>

  <label for="taskDescription">Description</label>
  <textarea id="taskDescription" name="descp" placeholder="Optional task description"></textarea>

  <label for="priority">Priority</label>
  <select id="priority" name="priority" class="priority-select" required>
    <option value="" disabled selected>Select priority</option>
    <option value="High">High</option>
    <option value="Medium">Medium</option>
    <option value="Low">Low</option>
  </select>

  <fieldset style="margin-top: 15px; border: none; padding: 0;">
    <legend style="font-weight: 600; font-size: 14px; margin-bottom: 6px; color: #374151;">Completed</legend><br>
    <label style="margin-right: 20px; cursor: pointer;">
      <input type="radio" name="is_completed" value="1" required style="margin-right: 5px;">
      Yes
    </label>
    <label style="cursor: pointer;">
      <input type="radio" name="is_completed" value="0" style="margin-right: 5px;">
      No
    </label>
  </fieldset>

  <button type="submit" class="submit-btn">Add Todo</button>
</form>


</main>

</body>
</html>
